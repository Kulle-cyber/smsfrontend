<div class="dashboard-container">
  <!-- Header -->
  <header class="header">
    <div class="logo">MyShop</div>

    <div class="search-bar">
      <input type="text" placeholder="Search products..." [(ngModel)]="searchTerm" (keyup.enter)="onSearch()"/>
      <button (click)="onSearch()">üîç</button>
    </div>

    <div class="header-right">
      <div class="profile">üë§ Profile</div>
      <div class="cart" (click)="toggleCart()">
        üõí Cart <span class="cart-count">{{ cart.length }}</span>
      </div>
    </div>
  </header>

  <main class="main-content">
    <!-- Products Grid -->
    <div class="products-grid">
      <div *ngFor="let product of filteredProducts" class="product-card">
        <img [src]="product.image_url" alt="{{ product.name }}" />
        <h3>{{ product.name }}</h3>
        <p class="desc">{{ product.description }}</p>
        <p class="price">Price: {{ product.price | currency }}</p>
        <p class="stock">Stock: {{ product.stock }}</p>
        <button (click)="addToCart(product)">Add to Cart</button>
      </div>
    </div>

    <!-- Cart Panel -->
    <div class="cart-panel" *ngIf="cartVisible">
      <h2>Your Cart</h2>
      <ul>
        <li *ngFor="let item of cart">
          <img [src]="item.image_url" alt="{{ item.name }}" />
          <div class="item-details">
            <h4>{{ item.name }}</h4>
            <p>{{ item.price | currency }}</p>
            <div class="quantity-controls">
              <button (click)="decreaseQuantity(item)">-</button>
              <span>{{ item.quantity }}</span>
              <button (click)="increaseQuantity(item)">+</button>
            </div>
          </div>
          <button class="remove" (click)="removeFromCart(item)">‚úñ</button>
        </li>
      </ul>
      <div class="checkout-section">
        <p class="total">Total: {{ totalPayment | currency }}</p>
        <button (click)="checkout()" [disabled]="cart.length === 0">Proceed to Checkout</button>
      </div>
    </div>
  </main>
</div>
